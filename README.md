# subinacl-use

Если вы переустановили Windows или подключили винт к другой системе, то вы можете столкнутся с проблемой - у вас нет доступа к фалам на нем. А изменить владельца вы тоже не можете при помощи стандартного инструмента explorer'а. У меня падало с ошибкой - "Ошибка Не удалось выполнить перечисление объектов в контейнере.", при чем для каждого отдельно взятого файла сменить владельца получается, а рекурсивно для папки - нет. Т.к. файлов было много тысяч, руками изменять не вариант.

Решение нашел в использовании инструмента - https://www.microsoft.com/en-us/download/details.aspx?id=23510
 
Утилита может много всего, приведу только то что я использовал и чего мне хватило.

-- будущий владелец:        DESKTOP-5PDSMI2\Макс  
-- SID будущего владельца:  S-1-5-21-3907554948-1410655484-3746813241-1001 
для определения SID используем c:\>whoami /user

-- смена владельца
subinacl /subdirectories D:\Cloud\* /setowner=S-1-5-21-3907554948-1410655484-3746813241-1001

-- добавляем привилегий учетке для всех папок и файлов
Subinacl /subdirectories D:\Cloud\*  /grant=DESKTOP-5PDSMI2\Макс=F
